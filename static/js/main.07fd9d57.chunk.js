(this["webpackJsonpmeta-butter-robot"]=this["webpackJsonpmeta-butter-robot"]||[]).push([[0],{280:function(n,e,t){"use strict";t.r(e);var i,r=t(18),c=t(9),a=(t(200),t(0)),o=t(17),s=t.n(o),l=t(26),u=t(34),d=t(52),j="dimension",b="location",O="episode",h=Object(u.makeVar)(j),f=Object(u.makeVar)([]),v=Object(u.makeVar)([]),x=Object(u.makeVar)([]),p=(i={},Object(d.a)(i,j,f),Object(d.a)(i,b,v),Object(d.a)(i,O,x),i),m=new u.ApolloClient({uri:"https://rickandmortyapi.com/graphql/",cache:new u.InMemoryCache}),g=t(97),y=t(128),w=t(93),S=t(61),k=t(284),C=t(179),F=t(288),q=t(283),B=t(285);function z(){var n=Object(r.a)(["\n  min-width: 250px;\n  margin: 16px;\n"]);return z=function(){return n},n}var I=q.a.Meta,$=Object(l.b)(B.b.Item)(z()),V=function(n){var e=n.id,t=n.name,i=n.image,r=(n.origin,n.location),a=n.species,o=n.status,s=n.onSelect;return Object(c.jsx)($,{children:Object(c.jsx)(q.a,{hoverable:!0,style:{width:240},cover:Object(c.jsx)("img",{alt:t,src:i}),onClick:function(){return s(e)},children:Object(c.jsx)(I,{title:t,description:"".concat(r.dimension," ").concat(a," ").concat(o)})})})},_=t(286),D=t(102),P=function(n){var e=n.episode,t=n.name;return Object(c.jsxs)("p",{children:[e," ",t]})},R=function(n){var e=n.episodes;return Object(c.jsx)("div",{children:e.map((function(n){return Object(c.jsx)(P,Object(g.a)({},n),n.key)}))})};function T(){var n=Object(r.a)(["\n  min-width: 80px;\n"]);return T=function(){return n},n}function E(){var n=Object(r.a)(["\n  min-width: 120px;\n  display: inline-block;\n  text-align: left;\n  padding-right: 4px;\n"]);return E=function(){return n},n}function H(){var n=Object(r.a)(["\n  margin: 8px 0;\n"]);return H=function(){return n},n}function L(){var n=Object(r.a)(["\n  color: white;\n  font-size: 16px;\n"]);return L=function(){return n},n}function M(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 16px;\n"]);return M=function(){return n},n}function A(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n"]);return A=function(){return n},n}function Q(){var n=Object(r.a)(["\n  min-height: 50vh;\n  min-width: 50vw;\n  overflow: hidden auto;\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-start;\n"]);return Q=function(){return n},n}function Y(){var n=Object(r.a)(["\n  query getOneCharacter($id: ID!) {\n    character(id: $id){\n      id\n      name\n      status\n      species\n      type\n      gender\n      origin {\n        id\n        name\n        type\n        dimension\n        created\n      }\n      location {\n        id\n        name\n        type\n        dimension\n        created\n      }\n      image\n      episode {\n        id\n        name\n        air_date\n        episode\n        created\n      }\n      created\n    }\n  }\n"]);return Y=function(){return n},n}var G=Object(u.gql)(Y()),J=Object(l.b)(w.a)(Q()),N=function(n){var e,t,i,r,a=n.character;return Object(c.jsxs)(S.a,{children:[Object(c.jsxs)(w.a,{children:[Object(c.jsx)(S.a,{xs:24,md:12,children:Object(c.jsx)("img",{alt:null===a||void 0===a?void 0:a.name,src:null===a||void 0===a?void 0:a.image})}),Object(c.jsxs)(S.a,{xs:24,md:12,children:[Object(c.jsx)(X,{level:3,children:null===a||void 0===a?void 0:a.name}),Object(c.jsx)(en,{label:"Species",value:null===a||void 0===a?void 0:a.species}),Object(c.jsx)(en,{label:"Gender",value:null===a||void 0===a?void 0:a.gender}),Object(c.jsx)(en,{label:"Status",value:null===a||void 0===a?void 0:a.status}),Object(c.jsxs)(w.a,{children:[Object(c.jsx)(en,{label:"Origin",value:null===a||void 0===a||null===(e=a.origin)||void 0===e?void 0:e.name}),Object(c.jsx)(en,{label:"Origin Dimension",value:(null===a||void 0===a||null===(t=a.origin)||void 0===t?void 0:t.dimension)||"unknown"})]}),Object(c.jsxs)(w.a,{children:[Object(c.jsx)(en,{label:"Location",value:null===a||void 0===a||null===(i=a.location)||void 0===i?void 0:i.name}),Object(c.jsx)(en,{label:"Loc. Dimension",value:(null===a||void 0===a||null===(r=a.location)||void 0===r?void 0:r.dimension)||"unknown"})]})]})]}),Object(c.jsx)(X,{level:4,children:"Episodes"}),Object(c.jsx)(R,{episodes:(null===a||void 0===a?void 0:a.episode)||[]})]})},U=l.b.div(A()),W=Object(l.b)(k.a.Paragraph)(M()),K=Object(l.b)(k.a.Text)(L()),X=Object(l.b)(k.a.Title)(H()),Z=Object(l.b)(k.a.Text)(E()),nn=Object(l.b)(Z)(T()),en=function(n){var e=n.label,t=n.value;return Object(c.jsxs)(k.a.Paragraph,{children:[Object(c.jsx)(nn,{children:e}),Object(c.jsx)(Z,{code:!0,children:t})]})},tn=function(n){var e=n.id,t=n.onClose,i=Object(u.useQuery)(G,{variables:{id:e},skip:!e}),r=i.loading,a=i.error,o=i.data;return Object(c.jsx)(_.a,{visible:e,centered:!0,width:"90%",onOk:function(){return t(!1)},onCancel:function(){return t(!1)},footer:[Object(c.jsx)(D.a,{onClick:t,children:"Close"},"back")],children:Object(c.jsxs)(J,{justify:"center",wrap:!0,children:[!r&&!a&&Object(c.jsx)(N,{character:null===o||void 0===o?void 0:o.character}),r&&Object(c.jsx)(C.a,{indicator:Object(c.jsx)(F.a,{style:{fontSize:48},spin:!0})}),a&&Object(c.jsxs)(U,{children:[Object(c.jsx)("img",{width:200,alt:"OH geez oh man",src:"/OH_geez_oh_man.png"}),Object(c.jsx)(W,{children:Object(c.jsx)(K,{code:!0,children:"Something went horribly wrong, please try again?"})})]})]})})};function rn(){var n=Object(r.a)(["\n  color: white;\n  font-size: 16px;\n"]);return rn=function(){return n},n}function cn(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 16px;\n"]);return cn=function(){return n},n}function an(){var n=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: white;\n"]);return an=function(){return n},n}function on(){var n=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return on=function(){return n},n}function sn(){var n=Object(r.a)(["\n  max-height: calc(100vh - 120px);\n  height: calc(100vh - 120px);\n  width: 100%;\n  overflow: hidden auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return sn=function(){return n},n}function ln(){var n=Object(r.a)(["\n  query charactersByIds($ids: [ID!]!) {\n    charactersByIds(ids: $ids){\n      id\n      name\n      status\n      species\n      type\n      gender\n      origin{\n        id\n        name\n        type\n        dimension\n        created\n      }\n      location{\n        id\n        name\n        type\n        dimension\n        created\n      }\n      image\n    }\n  }\n"]);return ln=function(){return n},n}var un=Object(u.gql)(ln()),dn=Object(l.b)(w.a)(sn()),jn=Object(l.b)(S.a)(on()),bn=l.b.div(an()),On=Object(l.b)(k.a.Paragraph)(cn()),hn=Object(l.b)(k.a.Text)(rn()),fn=function(){var n=Object(a.useState)(null),e=Object(y.a)(n,2),t=e[0],i=e[1],r=Object(u.useReactiveVar)(h),o=Object(u.useReactiveVar)(p[r]),s=!o.length,l=Object(u.useQuery)(un,{variables:{ids:o},skip:s}),d=l.loading,j=l.error,b=l.data,O=d||j?[]:(null===b||void 0===b?void 0:b.charactersByIds)||[];return Object(c.jsxs)(dn,{justify:"center",wrap:!0,children:[d&&Object(c.jsx)(C.a,{indicator:Object(c.jsx)(F.a,{style:{fontSize:48},spin:!0})}),O.map((function(n){return Object(c.jsx)(jn,{children:Object(c.jsx)(V,Object(g.a)(Object(g.a)({},n),{},{onSelect:i}))},n.id)})),s&&Object(c.jsxs)(bn,{"data-testid":"butter-robot-message",children:[Object(c.jsx)("img",{width:200,alt:"ButterRobot",src:"".concat("/meta-butter-robot","/Butter_Robot.png")}),Object(c.jsxs)(On,{children:[Object(c.jsx)(hn,{code:!0,children:"What is my purpose?"}),Object(c.jsx)(hn,{children:"You pass butter"}),Object(c.jsx)(hn,{children:"..."}),Object(c.jsx)(hn,{code:!0,children:"What is my purpose?"}),Object(c.jsx)(hn,{children:"You pass butter"}),Object(c.jsx)(hn,{code:!0,children:"Oh my god..."}),Object(c.jsx)(hn,{children:"Yeah, welcome to the club, pal"})]})]}),j&&Object(c.jsxs)(bn,{children:[Object(c.jsx)("img",{width:200,alt:"OH geez oh man",src:"/OH_geez_oh_man.png"}),Object(c.jsx)(On,{children:Object(c.jsx)(hn,{code:!0,children:"Something went horribly wrong, please try again?"})})]}),Object(c.jsx)(tn,{id:t,onClose:function(){return i(!1)}})]})},vn=t(193),xn=t(103);function pn(){var n=Object(r.a)(["\n  width: 100%;\n  margin: 16px;\n"]);return pn=function(){return n},n}function mn(){var n=Object(r.a)(["\n  query episodes($search: String) {\n    episodes(page: 1, filter: {name: $search}) {\n      info {\n        count\n        pages\n        next\n        prev\n      }\n      results {\n        id\n        name\n        characters {\n          id\n        }\n      }\n    }\n  }\n"]);return mn=function(){return n},n}function gn(){var n=Object(r.a)(["\n  query dimensions($search: String) {\n    locations(page: 1, filter: {dimension: $search}) {\n      info {\n        count\n        pages\n        next\n        prev\n      }\n      results {\n        id\n        dimension\n        residents {\n          id\n        }\n      }\n    }\n  }\n"]);return gn=function(){return n},n}function yn(){var n=Object(r.a)(["\n  query locations($search: String) {\n    locations(page: 1, filter: {name: $search}) {\n      info {\n        count\n        pages\n        next\n        prev\n      }\n      results {\n        id\n        name\n        residents {\n          id\n        }\n      }\n    }\n  }\n"]);return yn=function(){return n},n}var wn=Object(u.gql)(yn()),Sn=Object(u.gql)(gn()),kn=Object(u.gql)(mn()),Cn=xn.a.Option,Fn=Object(l.b)(xn.a)(pn()),qn=function(n,e){return n.find((function(n){return n.value===e.value}))||n.push(e),n},Bn=function(n){var e,t,i,r,o=n.type,s=n.onSelect,l=(e={},Object(d.a)(e,j,Sn),Object(d.a)(e,b,wn),Object(d.a)(e,O,kn),e),h=(t={},Object(d.a)(t,j,Object(a.useState)("")),Object(d.a)(t,b,Object(a.useState)("")),Object(d.a)(t,O,Object(a.useState)("")),t),f=Object(u.useQuery)(l[o]),v=f.refetch,x=f.loading,p=f.error,m=f.data,g=Object(y.a)(h[o],2),w=g[0],S=g[1];Object(a.useEffect)((function(){f&&f.refetch({search:w})}),[o]);var k=function(n){v({search:n||""})},C=!x&&!p&&((null===m||void 0===m||null===(i=m.locations)||void 0===i?void 0:i.results)||(null===m||void 0===m||null===(r=m.episodes)||void 0===r?void 0:r.results)||[]).map((function(n){return{key:n.id,value:n.name||n.dimension}})).reduce(qn,[]);return Object(c.jsx)(Fn,{"data-testid":"search-input",value:w,onSelect:function(n){var e,t,i=((null===m||void 0===m||null===(e=m.locations)||void 0===e?void 0:e.results)||(null===m||void 0===m||null===(t=m.episodes)||void 0===t?void 0:t.results)||[]).reduce((function(e,t){var i=t.name||t.dimension;n===i&&(t.characters||t.residents).forEach((function(n){return n.id&&e.add(n.id)}));return e}),new Set);s(Object(vn.a)(i))},onSearch:k,onChange:function(n){S(n)},onClear:k,showSearch:!0,loading:x,placeholder:"Search here",defaultActiveFirstOption:!1,allowClear:!0,showArrow:!1,filterOption:!1,notFoundContent:null,children:(C||[]).map((function(n){return Object(c.jsx)(Cn,{children:n.value},n.value)}))})},zn=t(287);function In(){var n=Object(r.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return In=function(){return n},n}function $n(){var n=Object(r.a)(["\n  margin: 16px;\n"]);return $n=function(){return n},n}var Vn=Object(l.b)(w.a)($n()),_n=Object(l.b)(S.a)(In()),Dn=function(){var n=Object(u.useReactiveVar)(h);return Object(c.jsxs)(Vn,{justify:"center",align:"center",children:[Object(c.jsx)(_n,{xs:{span:24},sm:{span:10},md:{span:8,offset:2},children:Object(c.jsxs)(zn.a.Group,{onChange:function(n){return h(n.target.value)},defaultValue:n,children:[Object(c.jsx)(zn.a.Button,{"data-testid":"search-dimension-option",value:j,children:"Dimension"}),Object(c.jsx)(zn.a.Button,{"data-testid":"search-location-option",value:b,children:"Location"}),Object(c.jsx)(zn.a.Button,{"data-testid":"search-episode-option",value:O,children:"Episode"})]})}),Object(c.jsx)(_n,{xs:{span:24},sm:{span:14},md:{span:8,offset:0},children:Object(c.jsx)(Bn,{type:n,onSelect:function(e){p[n](e)}})})]})};function Pn(){var n=Object(r.a)(["\n  margin: 0;\n  flex: 1 0 100%;\n  color: white;\n"]);return Pn=function(){return n},n}function Rn(){var n=Object(r.a)(["\n  background-color: #FFF;\n  flex: 0 0 auto;\n  width: 100%;\n"]);return Rn=function(){return n},n}function Tn(){var n=Object(r.a)(["\n  text-align: center;\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n"]);return Tn=function(){return n},n}var En=l.b.div(Tn()),Hn=l.b.header(Rn()),Ln=l.b.div(Pn());var Mn=function(){return Object(c.jsx)(u.ApolloProvider,{client:m,children:Object(c.jsxs)(En,{children:[Object(c.jsx)(Hn,{"data-testid":"app-header",children:Object(c.jsx)(Dn,{})}),Object(c.jsx)(Ln,{children:Object(c.jsx)(fn,{})})]})})},An=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,289)).then((function(e){var t=e.getCLS,i=e.getFID,r=e.getFCP,c=e.getLCP,a=e.getTTFB;t(n),i(n),r(n),c(n),a(n)}))};function Qn(){var n=Object(r.a)(["\n  body {\n    margin: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n      monospace;\n  }\n"]);return Qn=function(){return n},n}var Yn=Object(l.a)(Qn());s.a.render(Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Yn,{}),Object(c.jsx)(Mn,{})]}),document.getElementById("root")),An()}},[[280,1,2]]]);
//# sourceMappingURL=main.07fd9d57.chunk.js.map